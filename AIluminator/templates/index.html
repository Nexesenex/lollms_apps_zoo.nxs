<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIluminator - Enhanced AI Text Detector</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* AI Suspicion Levels - Red/Orange gradient */
    .high_ai {
      background: linear-gradient(120deg, #fee2e2 0%, #fecaca 100%);
      border-left: 4px solid #dc2626;
      padding: 8px 12px;
      margin: 6px 0;
      display: inline-block;
      border-radius: 6px;
      transition: all 0.3s;
      box-shadow: 0 1px 3px rgba(220, 38, 38, 0.2);
    }
    .high_ai:hover {
      background: linear-gradient(120deg, #fecaca 0%, #fca5a5 100%);
      box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
      transform: translateY(-1px);
    }
    
    .medium_ai {
      background: linear-gradient(120deg, #ffedd5 0%, #fed7aa 100%);
      border-left: 4px solid #ea580c;
      padding: 8px 12px;
      margin: 6px 0;
      display: inline-block;
      border-radius: 6px;
      transition: all 0.3s;
      box-shadow: 0 1px 3px rgba(234, 88, 12, 0.2);
    }
    .medium_ai:hover {
      background: linear-gradient(120deg, #fed7aa 0%, #fdba74 100%);
      box-shadow: 0 4px 12px rgba(234, 88, 12, 0.3);
      transform: translateY(-1px);
    }
    
    /* Neutral - Yellow */
    .neutral {
      background: linear-gradient(120deg, #fef3c7 0%, #fde68a 100%);
      border-left: 4px solid #ca8a04;
      padding: 8px 12px;
      margin: 6px 0;
      display: inline-block;
      border-radius: 6px;
      transition: all 0.3s;
      box-shadow: 0 1px 3px rgba(202, 138, 4, 0.2);
    }
    .neutral:hover {
      background: linear-gradient(120deg, #fde68a 0%, #fcd34d 100%);
      box-shadow: 0 4px 12px rgba(202, 138, 4, 0.3);
      transform: translateY(-1px);
    }
    
    /* Human Suspicion Levels - Green/Blue gradient */
    .medium_human {
      background: linear-gradient(120deg, #d1fae5 0%, #a7f3d0 100%);
      border-left: 4px solid #059669;
      padding: 8px 12px;
      margin: 6px 0;
      display: inline-block;
      border-radius: 6px;
      transition: all 0.3s;
      box-shadow: 0 1px 3px rgba(5, 150, 105, 0.2);
    }
    .medium_human:hover {
      background: linear-gradient(120deg, #a7f3d0 0%, #6ee7b7 100%);
      box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
      transform: translateY(-1px);
    }
    
    .high_human {
      background: linear-gradient(120deg, #dbeafe 0%, #bfdbfe 100%);
      border-left: 4px solid #2563eb;
      padding: 8px 12px;
      margin: 6px 0;
      display: inline-block;
      border-radius: 6px;
      transition: all 0.3s;
      box-shadow: 0 1px 3px rgba(37, 99, 235, 0.2);
    }
    .high_human:hover {
      background: linear-gradient(120deg, #bfdbfe 0%, #93c5fd 100%);
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
      transform: translateY(-1px);
    }

    .score-badge {
      font-size: 0.75rem;
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: 600;
      margin-left: 8px;
      display: inline-block;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen">
  <div class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3">
        üîç AIluminator
      </h1>
      <p class="text-slate-600 text-lg">
        Advanced AI-Generated Text Detection with Passage-Level Analysis
      </p>
    </div>

    <!-- Main Card -->
    <div class="bg-white rounded-2xl shadow-xl p-8 mb-6">
      <form method="post" class="space-y-6">
        <div>
          <label class="block text-sm font-semibold text-slate-700 mb-2">
            üìù Enter or paste text to analyze
          </label>
          <textarea 
            name="text" 
            rows="10" 
            class="w-full px-4 py-3 border-2 border-slate-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition text-slate-800 text-base font-mono"
            placeholder="Paste your text here for AI detection analysis... Works with regular text, articles, essays, code, and more!"
          >{% if text %}{{ text }}{% endif %}</textarea>
          <p class="text-xs text-slate-500 mt-2">
            üí° Tip: Paste longer passages (multiple sentences) for better accuracy
          </p>
        </div>
        
        <button 
          type="submit"
          class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-4 px-6 rounded-lg shadow-lg hover:shadow-xl transition duration-200 transform hover:scale-[1.02]"
        >
          üî¨ Analyze Text for AI Detection
        </button>
      </form>
    </div>

    {% if result %}
    <!-- Results Section -->
    <div class="space-y-6">
      <!-- Overall Score Card -->
      <div class="bg-white rounded-2xl shadow-xl p-8">
        <h2 class="text-3xl font-bold text-slate-800 mb-6">üìä Analysis Results</h2>
        
        <!-- Overall AI Likelihood -->
        <div class="mb-8">
          <div class="flex justify-between items-center mb-3">
            <span class="text-lg font-semibold text-slate-700">Overall AI Likelihood</span>
            <span class="text-4xl font-bold {{ 'text-red-600' if result.ai_likelihood > 0.6 else 'text-blue-600' if result.ai_likelihood < 0.4 else 'text-yellow-600' }}">
              {{ (result.ai_likelihood * 100)|round(1) }}%
            </span>
          </div>
          <div class="w-full bg-slate-200 rounded-full h-6 overflow-hidden shadow-inner">
            <div 
              class="h-6 rounded-full transition-all duration-500 flex items-center justify-end pr-3 text-white text-xs font-bold
                {{ 'bg-gradient-to-r from-red-500 to-red-600' if result.ai_likelihood > 0.6 
                   else 'bg-gradient-to-r from-blue-500 to-blue-600' if result.ai_likelihood < 0.4 
                   else 'bg-gradient-to-r from-yellow-500 to-yellow-600' }}"
              style="width: {{ (result.ai_likelihood * 100)|round(1) }}%"
            >
              {% if result.ai_likelihood * 100 > 10 %}
                {{ (result.ai_likelihood * 100)|round(0)|int }}%
              {% endif %}
            </div>
          </div>
          <div class="flex justify-between text-xs text-slate-500 mt-2">
            <span>üßë Human</span>
            <span>ü§ñ AI</span>
          </div>
        </div>

        <!-- Statistics -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
          <div class="bg-slate-50 rounded-xl p-5 text-center border-2 border-slate-200">
            <div class="text-4xl font-bold text-slate-800">{{ result.total_passages }}</div>
            <div class="text-sm text-slate-600 mt-1">Total Passages</div>
          </div>
          <div class="bg-red-50 rounded-xl p-5 text-center border-2 border-red-200">
            <div class="text-4xl font-bold text-red-600">{{ result.ai_count }}</div>
            <div class="text-sm text-red-700 mt-1">AI-Generated</div>
          </div>
          <div class="bg-blue-50 rounded-xl p-5 text-center border-2 border-blue-200">
            <div class="text-4xl font-bold text-blue-600">{{ result.human_count }}</div>
            <div class="text-sm text-blue-700 mt-1">Human-Written</div>
          </div>
          <div class="bg-yellow-50 rounded-xl p-5 text-center border-2 border-yellow-200">
            <div class="text-4xl font-bold text-yellow-600">{{ result.mixed_count }}</div>
            <div class="text-sm text-yellow-700 mt-1">Mixed/Uncertain</div>
          </div>
        </div>

        <!-- Color Legend -->
        <div class="bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-6 border border-slate-200">
          <h4 class="font-bold text-slate-800 mb-4 text-center">üé® Suspicion Level Color Guide</h4>
          <div class="grid grid-cols-1 md:grid-cols-5 gap-3">
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-gradient-to-br from-red-200 to-red-300 rounded border-l-4 border-red-600 flex-shrink-0"></div>
              <span class="text-xs font-medium text-slate-700">High AI<br/>Suspicion</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-gradient-to-br from-orange-200 to-orange-300 rounded border-l-4 border-orange-600 flex-shrink-0"></div>
              <span class="text-xs font-medium text-slate-700">Medium AI<br/>Suspicion</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-gradient-to-br from-yellow-200 to-yellow-300 rounded border-l-4 border-yellow-600 flex-shrink-0"></div>
              <span class="text-xs font-medium text-slate-700">Neutral/<br/>Mixed</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-gradient-to-br from-green-200 to-green-300 rounded border-l-4 border-green-600 flex-shrink-0"></div>
              <span class="text-xs font-medium text-slate-700">Medium Human<br/>Suspicion</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-8 h-8 bg-gradient-to-br from-blue-200 to-blue-300 rounded border-l-4 border-blue-600 flex-shrink-0"></div>
              <span class="text-xs font-medium text-slate-700">High Human<br/>Suspicion</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Highlighted Passages -->
      <div class="bg-white rounded-2xl shadow-xl p-8">
        <h3 class="text-2xl font-bold text-slate-800 mb-6">üî¶ Passage-by-Passage Analysis</h3>
        <div class="space-y-3 leading-relaxed text-base">
          {% for passage in result.passages %}
            <div 
              class="{{ passage.suspicion }}"
              title="AI Score: {{ (passage.ai_score * 100)|round(1) }}% | Human Score: {{ (passage.human_score * 100)|round(1) }}% | Classification: {{ passage.likely }}"
            >
              {{ passage.text }}
              <span class="score-badge {{ 'bg-red-100 text-red-700' if passage.likely == 'AI' else 'bg-blue-100 text-blue-700' if passage.likely == 'Human' else 'bg-yellow-100 text-yellow-700' }}">
                {{ (passage.ai_score * 100)|round(0)|int }}% AI
              </span>
            </div>
          {% endfor %}
        </div>
        
        <div class="mt-8 p-5 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border-2 border-blue-200">
          <p class="text-sm text-slate-700">
            <strong class="text-blue-700 text-base">üí° How to read the analysis:</strong><br/>
            ‚Ä¢ Hover over any highlighted passage to see detailed AI/Human scores<br/>
            ‚Ä¢ Color intensity indicates confidence level (darker = higher confidence)<br/>
            ‚Ä¢ Each passage represents 1-3 sentences analyzed together for context<br/>
            ‚Ä¢ Scores are based on 8+ linguistic factors including vocabulary, structure, and patterns
          </p>
        </div>
      </div>

      <!-- Detection Methodology -->
      <div class="bg-gradient-to-br from-slate-800 via-slate-900 to-slate-950 rounded-2xl shadow-2xl p-8 text-white">
        <h3 class="text-2xl font-bold mb-5 flex items-center gap-2">
          üß† Detection Methodology
        </h3>
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <h4 class="font-semibold text-blue-300 mb-3">Analysis Factors:</h4>
            <ul class="space-y-2 text-sm text-slate-200">
              <li>‚úì <strong>Lexical Diversity:</strong> Vocabulary richness and word variety</li>
              <li>‚úì <strong>Vocabulary Consistency:</strong> Word length patterns and uniformity</li>
              <li>‚úì <strong>Phrase Detection:</strong> Common AI expressions and human markers</li>
              <li>‚úì <strong>Punctuation Analysis:</strong> Consistency in comma and period usage</li>
            </ul>
          </div>
          <div>
            <h4 class="font-semibold text-blue-300 mb-3">Additional Signals:</h4>
            <ul class="space-y-2 text-sm text-slate-200">
              <li>‚úì <strong>Sentence Complexity:</strong> Length and structure patterns</li>
              <li>‚úì <strong>Repetition Detection:</strong> Word and phrase repetition analysis</li>
              <li>‚úì <strong>Formality Score:</strong> Technical and formal language usage</li>
              <li>‚úì <strong>Context Awareness:</strong> Special handling for code and technical text</li>
            </ul>
          </div>
        </div>
        <div class="mt-6 pt-6 border-t border-slate-700">
          <p class="text-xs text-slate-400 italic">
            ‚ö†Ô∏è Note: This tool uses heuristic analysis and should be used as a guide, not definitive proof. 
            AI detection is complex and evolving. Results may vary based on text type and length.
          </p>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Footer -->
    <div class="text-center mt-10 text-slate-500 text-sm">
      <p class="mb-2">AIluminator Enhanced v2.0 | Passage-Level Detection</p>
      <p class="text-xs">For research, educational, and analytical purposes</p>
    </div>
  </div>
</body>
</html>