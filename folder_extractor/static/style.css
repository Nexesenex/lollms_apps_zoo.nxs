/* static/style.css */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}

/* --- Markdown Rendering --- */
.markdown-body h1, .markdown-body h2, .markdown-body h3 { margin-top: 1em; margin-bottom: 0.5em; font-weight: 600; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
.dark .markdown-body h1, .dark .markdown-body h2, .dark .markdown-body h3 { border-bottom-color: #374151; }
.markdown-body h1 { font-size: 1.875rem; } .markdown-body h2 { font-size: 1.5rem; } .markdown-body h3 { font-size: 1.25rem; }
.markdown-body p { margin-bottom: 1rem; line-height: 1.625; }
.markdown-body ul, .markdown-body ol { margin-left: 1.25rem; margin-bottom: 1rem; list-style-position: outside; }
.markdown-body ul { list-style-type: disc; } .markdown-body ol { list-style-type: decimal; }
.markdown-body li { margin-bottom: 0.25rem; }
.markdown-body code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background-color: #f3f4f6; color: #dd1144; padding: 0.125em 0.375em; border-radius: 0.25rem; font-size: 0.875em; }
.dark .markdown-body code { background-color: #374151; color: #f472b6; }
.markdown-body pre { background-color: #f3f4f6; border: 1px solid #e5e7eb; padding: 1rem; border-radius: 0.375rem; overflow-x: auto; margin-bottom: 1rem; font-size: 0.875em; line-height: 1.5; position: relative; }
.dark .markdown-body pre { background-color: #1f2937; border-color: #374151; }
.markdown-body pre code { background-color: transparent; color: inherit; padding: 0; font-size: 1em; border: none; }
.markdown-body blockquote { border-left: 4px solid #d1d5db; margin-left: 0; padding-left: 1rem; color: #4b5563; font-style: italic; margin-bottom: 1rem; }
.dark .markdown-body blockquote { border-left-color: #4b5563; color: #9ca3af; }
.markdown-body table { border-collapse: collapse; width: auto; margin-bottom: 1rem; font-size: 0.875em; display: block; overflow-x: auto; }
.markdown-body th, .markdown-body td { border: 1px solid #d1d5db; padding: 0.5rem 0.75rem; text-align: left; }
.markdown-body th { background-color: #f9fafb; font-weight: 600; }
.dark .markdown-body th, .dark .markdown-body td { border-color: #4b5563; } .dark .markdown-body th { background-color: #374151; }
.markdown-body hr { border-top: 1px solid #e5e7eb; margin: 1.5rem 0; } .dark .markdown-body hr { border-top-color: #374151; }
.markdown-body a { color: #2563eb; text-decoration: underline; } .dark .markdown-body a { color: #60a5fa; } .markdown-body a:hover { text-decoration: none; }

/* --- App Specific --- */
#preset-list > div, #doc-list > li { cursor: pointer; }

.file-tree ul { list-style: none; padding-left: 0; margin-left: 0; }
.file-tree ul > li > ul { margin-left: 1rem; }

.sig-button { font-weight: bold; padding: 0px 4px; line-height: 1; min-width: 1.35rem; height: 1.35rem; font-size: 0.7rem; display: inline-flex; align-items: center; justify-content: center; }
.sig-button.active-sig { background-color: #6d28d9; color: white !important; border-color: #5b21b6; }
.dark .sig-button.active-sig { background-color: #5b21b6; border-color: #4c1d95; color: white !important; }
.sig-button:not(.active-sig) { color: #5b21b6; }
.dark .sig-button:not(.active-sig) { color: #a78bfa; }

.marked-for-removal > .item-row > .item-label { text-decoration: line-through; opacity: 0.6; }
.marked-for-removal > .item-row .removal-toggle-btn { background-color: #16a34a; color: white; }
.dark .marked-for-removal > .item-row .removal-toggle-btn { background-color: #22c55e; }
.marked-for-removal > .item-row .removal-toggle-btn:hover { background-color: #15803d; }
.dark .marked-for-removal > .item-row .removal-toggle-btn:hover { background-color: #16a34a; }

#file-tree-container { max-height: calc(100vh - 200px); overflow-y: auto; }

/* --- Chat Interface Styles --- */
#chat-messages-container { scroll-behavior: smooth; }
.chat-message { max-width: 85%; }
.chat-message.user { align-self: flex-end; }
.chat-message.ai { align-self: flex-start; }

.chat-bubble { padding: 0.75rem 1rem; border-radius: 1.25rem; }
.chat-bubble.user { background-color: #2563eb; color: white; border-bottom-right-radius: 0.375rem; }
.chat-bubble.ai { background-color: #e5e7eb; color: #1f2937; border-bottom-left-radius: 0.375rem; }
.dark .chat-bubble.ai { background-color: #374151; color: #e5e7eb; }

#chat-input { transition: height 0.2s ease-in-out; }

.code-block-copy-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    padding: 0.25rem 0.5rem;
    background-color: #4b5563;
    color: white;
    border: none;
    border-radius: 0.375rem;
    font-size: 0.75rem;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
}
.dark .code-block-copy-btn { background-color: #6b7280; }
.markdown-body pre:hover .code-block-copy-btn { opacity: 1; }

/* Tokenizer Progress Bar Colors */
.progress-bar-safe { background-color: #22c55e; } /* green-500 */
.progress-bar-warn { background-color: #f59e0b; } /* amber-500 */
.progress-bar-danger { background-color: #ef4444; } /* red-500 */
